@page
@model TopCrimesAreaModel
@{
  ViewData["Title"] = "Top-10 Crimes for any area you choose to search.";
}

<h2>Top-10 Crimes</h2> 

        @{
            int check = 0;
            string err = "Sorry, your input does not exist within the database.";
        }
        @foreach (var item in Model.CrimeList)  
        {  
            check++;
        }
        @{
            if(check == 0)
            {
                @(err)
            }
         }

@foreach (var item in Model.CrimeList) 
{
    <td>  
       For Area # @item.Area (@item.AreaName)
    </td> 
    break;
}

@{
   if (@Model.EX != null)
	 {
	   <br />
		 <br />
		 <h3>**ERROR: @Model.EX.Message</h3>
		 <br />
		 <hr />
		 <br />
		 <br />
	 }
}

<table class="table">  
    <thead>  
        <tr>  
            <th>  
                Rank
            </th>  
            <th>  
                IUCR
            </th>  
            <th>  
                Primary Description
            </th>  
            <th>  
                Secondary Description
            </th>  
            <th>
                Occurrences
            </th>  
            <th>  
                Percent of Total Crimes
            </th>  
            <th>  
                Percent of Arrests
            </th>  
        </tr>  
    </thead>  
    <tbody>  
				@{
				   int rank = 1;
				 }
				
        @foreach (var item in Model.CrimeList)  
        {  
            <tr>  
                <td>  
					@rank
                </td>  
                <td>  
                    @item.IUCR
                </td>  
                <td>  
                    @item.PrimaryDesc
                </td>  
                <td>  
                    @item.SecondaryDesc
                </td>  
                <td>  
                    @item.NumCrime
                </td>  
                <td>  
                    @((((@item.NumCrime) / (@item.TotalCrimes)) * 100).ToString("0.00"))
                </td>  
                <td>  
                    @((((@item.ArrestedCount) / (@item.NumCrime)) * 100).ToString("0.00"))
                </td>  
            </tr>  
						
					rank++;
        }  
    </tbody>  
</table> 